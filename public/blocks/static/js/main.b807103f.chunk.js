(this.webpackJsonpblocks=this.webpackJsonpblocks||[]).push([[0],{34:function(e,t,n){e.exports=n(47)},39:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r,c=n(0),o=n.n(c),a=n(7),i=n.n(a),l=(n(39),n(14)),s=n(63),u=n(68);!function(e){e[e.INIT=0]="INIT",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.ERROR=3]="ERROR"}(r||(r={}));var d,p=n(5);!function(e){e[e.ACTIVE=0]="ACTIVE",e[e.BLOCKED=1]="BLOCKED"}(d||(d={}));var f=n(15);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e,t){var n=e,r=n.selectedIndex,c=n.blocks;return null!=r&&r!==t?(c=function(e,t,n){var r=Object(f.clone)(e[t]);return e[t]=Object(f.clone)(e[n]),e[n]=r,e}(c,r,t),e.moved=(e.moved?e.moved:0)+1,e=g(b({},e,{blocks:c})),r=null):r=t,b({},e,{selectedIndex:r})};function g(e){var t=e.blocks;e.completed;return b({},e,{blocks:t=t.map((function(e,t){return e.activePosition=t,e.state=e.activePosition===e.originPosition?d.BLOCKED:d.ACTIVE,e})),completed:Object(f.sumBy)(t,(function(e){return e&&e.state===d.BLOCKED?1:0}))===t.length})}var v=function(e){var t=Object(c.useState)({status:r.INIT}),n=Object(l.a)(t,2),o=n[0],a=n[1];return Object(c.useEffect)((function(){fetch("https://hiwarsaw.herokuapp.com/api-place/:id".replace(":id","".concat(e)),{mode:"cors",headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){return e.json()})).then((function(e){return a({status:r.LOADED,payload:g(e)})})).catch((function(e){return a({status:r.ERROR,error:e})}))}),[e]),o},E=n(64),h=Object(s.a)((function(e){return Object(u.a)({selected:{margin:"2px",border:"2px solid #ff0000",textAlign:"center",width:"15vw",height:"15vw",cursor:"pointer",backgroundSize:"cover",filter:"grayscale(100%)",color:"#fff"},element:{margin:"3px",background:"#e3e3e3",textAlign:"center",width:"15vw",height:"15vw",cursor:"pointer",backgroundSize:"cover",filter:"grayscale(100%)",color:"#fff",fontWeight:"bolder"},correct:{margin:"2px",textAlign:"center",width:"15vw",height:"15vw",cursor:"no-drop",backgroundSize:"cover"},done:{textAlign:"center",width:"20vw",height:"20vw",cursor:"no-drop",backgroundSize:"cover"}})})),j=function(e){var t=e.block,n=e.selected,r=e.fnClick,c=(e.completed,h());return o.a.createElement(E.a,{item:!0,xs:2,key:t.image,className:function(){var e=c.element;return t.activePosition===n&&(e=c.selected),t.state===d.BLOCKED&&(e=c.correct),e}(),style:{backgroundImage:"url(https://hiwarsaw.herokuapp.com".concat(t.image)},onClick:function(){return r(t)}})},k=(n(46),n(2)),w=n(66),y=n(67),D=n(25),I=Object(s.a)((function(e){return Object(u.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})})),C=o.a.forwardRef((function(e,t){var n=e.in,r=e.children,c=e.onEnter,a=e.onExited,i=Object(k.a)(e,["in","children","onEnter","onExited"]),l=Object(D.b)({from:{opacity:0},to:{opacity:n?1:0},onStart:function(){n&&c&&c()},onRest:function(){!n&&a&&a()}});return o.a.createElement(D.a.div,Object.assign({ref:t,style:l},i),r)}));function x(){var e=I(),t=o.a.useState(!0),n=Object(l.a)(t,2),r=n[0],c=n[1];return o.a.createElement(w.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:e.modal,open:r,onClose:function(){c(!1)},closeAfterTransition:!0,BackdropComponent:y.a,BackdropProps:{timeout:500}},o.a.createElement(C,{in:r},o.a.createElement("div",{className:e.paper},o.a.createElement("h2",{id:"spring-modal-title"},"Gratulacje"),o.a.createElement("p",{id:"spring-modal-description"},"Uda\u0142o Ci si\u0119 u\u0142o\u017cy\u0107 miejsce."))))}var A=function(e){var t=e.game,n=e.fnClick;if(void 0===t)return c.createElement("span",null);var r=t.blocks;return c.createElement(c.Fragment,null,c.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1},r.map((function(e){return c.createElement(j,{key:e.image,block:e,selected:t.selectedIndex,fnClick:n,completed:t.completed})}))),t.completed&&c.createElement(x,null),c.createElement("div",null,"Ilo\u015b\u0107 ruch\xf3w: ",t.moved))},L=Object(s.a)((function(e){return Object(u.a)({root:{}})})),P=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],i=v(Object(f.get)(window,"hwPlaceId",null)),s=L();return Object(c.useEffect)((function(){i.status===r.LOADED&&a(i.payload)}),[i]),o.a.createElement("div",{className:s.root},i.status===r.LOADING&&o.a.createElement("div",null,"Loading..."),i.status===r.LOADED&&o.a.createElement(A,{game:n,fnClick:function(e){if(n)if(e.state!==d.BLOCKED){var t=O(n,e.activePosition);a(t)}else alert("Element in correct place")}}),i.status===r.ERROR&&o.a.createElement("div",null,"Error, the backend moved to the dark side."))};i.a.render(o.a.createElement(P,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.b807103f.chunk.js.map