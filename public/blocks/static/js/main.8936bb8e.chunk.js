(this.webpackJsonpblocks=this.webpackJsonpblocks||[]).push([[0],{20:function(e,t,n){e.exports=n(34)},25:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r,c=n(1),o=n.n(c),i=n(14),a=n.n(i),l=(n(25),n(8)),u=n(45),s=n(47);!function(e){e[e.INIT=0]="INIT",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.ERROR=3]="ERROR"}(r||(r={}));var f,d=n(5);!function(e){e[e.ACTIVE=0]="ACTIVE",e[e.BLOCKED=1]="BLOCKED"}(f||(f={}));var m=n(4);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e,t){var n=e,r=n.selectedIndex,c=n.blocks;return null!=r&&r!==t?(c=function(e,t,n){var r=Object(m.clone)(e[t]);return e[t]=Object(m.clone)(e[n]),e[n]=r,e}(c,r,t),e.moved=(e.moved?e.moved:0)+1,e=v(b({},e,{blocks:c})),r=null):r=t,b({},e,{selectedIndex:r})};function v(e){var t=e.blocks;e.completed;return b({},e,{blocks:t=t.map((function(e,t){return e.activePosition=t,e.state=e.activePosition===e.originPosition?f.BLOCKED:f.ACTIVE,e})),completed:Object(m.sumBy)(t,(function(e){return e&&e.state===f.BLOCKED?1:0}))===t.length})}var g=function(e){var t=Object(c.useState)({status:r.INIT}),n=Object(l.a)(t,2),o=n[0],i=n[1];return Object(c.useEffect)((function(){fetch("https://hiwarsaw.herokuapp.com/api-place/:id".replace(":id","".concat(e))).then((function(e){return e.json()})).then((function(e){return i({status:r.LOADED,payload:v(e)})})).catch((function(e){return i({status:r.ERROR,error:e})}))}),[e]),o},E=n(46),k=Object(u.a)((function(e){return Object(s.a)({selected:{margin:"2px",border:"1px solid #ff0000",textAlign:"center",width:"15vw",height:"15vw",cursor:"pointer",backgroundSize:"cover",filter:"grayscale(100%)",color:"#fff"},element:{margin:"2px",background:"#e3e3e3",textAlign:"center",width:"15vw",height:"15vw",cursor:"pointer",backgroundSize:"cover",filter:"grayscale(100%)",color:"#fff",fontWeight:"bolder"},correct:{margin:"2px",textAlign:"center",width:"15vw",height:"15vw",cursor:"no-drop",backgroundSize:"cover"}})})),h=function(e){var t=e.block,n=e.selected,r=e.fnClick,c=k();return o.a.createElement(E.a,{item:!0,xs:2,key:t.image,className:function(){var e=c.element;return t.activePosition===n&&(e=c.selected),t.state===f.BLOCKED&&(e=c.correct),e}(),style:{backgroundImage:"url(".concat(t.image)},onClick:function(){return r(t)}},t.activePosition," - ",t.originPosition)},j=(n(33),function(e){var t=e.game,n=e.fnClick,r=t.blocks;return c.createElement(c.Fragment,null,c.createElement(E.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:1},r.map((function(e){return c.createElement(h,{key:e.image,block:e,selected:t.selectedIndex,fnClick:n})}))),t.completed&&c.createElement("span",null,"Gratulacje uda\u0142o Ci si\u0119 u\u0142o\u017cy\u0107 miejsce, mo\u017cesz podzieli\u0107 si\u0119 tym"),c.createElement("div",null,"Ilo\u015b\u0107 ruch\xf3w: ",t.moved))}),y=Object(u.a)((function(e){return Object(s.a)({root:{}})})),w=Array.from(Array(50).keys()).map((function(e){return{image:"".concat(e,".jpg"),originPosition:e,activePosition:e,state:f.ACTIVE}})),P=[],I={selectedIndex:null,id:1,name:"Pa\u0142ac kultury",moved:0,blocks:Object(m.sortBy)(w.map((function(e){return e.activePosition=function e(){var t=Object(m.random)(0,w.length-1);return P.includes(t)?t=e():P.push(t),t}(),e})),"activePosition")},D=function(){var e=Object(c.useState)(v(I)),t=Object(l.a)(e,2),n=t[0],i=t[1],a=g(Object(m.get)(window,"hwPlaceId",null)),u=y();return o.a.createElement("div",{className:u.root},a.status===r.LOADING&&o.a.createElement("div",null,"Loading..."),a.status===r.LOADED&&a.payload.blocks.map((function(e){return o.a.createElement("div",{key:e.originPosition},e.originPosition)})),a.status===r.ERROR&&o.a.createElement("div",null,"Error, the backend moved to the dark side."),o.a.createElement(j,{game:n,fnClick:function(e){if(e.state!==f.BLOCKED){var t=O(n,e.activePosition);i(t)}else alert("Element in correct place")}}))};a.a.render(o.a.createElement(D,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.8936bb8e.chunk.js.map